<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>solis.system</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: black;
      overflow: hidden;
      font-family: monospace;
      touch-action: none;
      cursor: none;
    }

    .scene {
      position: relative;
      width: 100vw;
      height: 100vh;
      background: black;
      overflow: hidden;
    }

    .orb {
      position: absolute;
      top: 50%;
      left: 50%;
      width: min(75vw, 75vh);
      height: min(75vw, 75vh);
      border-radius: 50%;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.4s ease;
      transform: translate(-50%, -50%);
      z-index: 1;
      background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgba(255,255,255,0.08), rgba(255,255,255,0.015) 40%, transparent 80%);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .orb.visible {
      opacity: 1;
    }

    .hitbox {
      padding: 16px 40px;
      margin: 8px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      transition: background 0.3s ease;
    }

    .hitbox:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .orb a {
      color: white;
      text-decoration: none;
      font-size: clamp(0.75rem, 1.5vw, 1rem);
      opacity: 0;
      filter: blur(5px);
      pointer-events: none;
      transition: opacity 0.4s ease, filter 0.4s ease, transform 0.3s ease;
    }

    .orb.reveal-links a {
      opacity: 0.7;
      pointer-events: auto;
    }

    .orb.reveal-links a.revealed {
      opacity: 1;
      filter: blur(0);
      transform: scale(1.05);
    }

    .notify {
      position: absolute;
      top: 12%;
      width: 100%;
      text-align: center;
      color: white;
      font-size: 0.9rem;
      opacity: 0;
      transition: opacity 0.8s ease;
      font-family: monospace;
    }

    .notify.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="scene" id="scene">
    <div class="notify" id="notify">a door has been unlocked</div>
    <div class="orb" id="orb">
      <div class="hitbox"><a href="https://pump.fun/coin/4t3vmT5KwLfZ7pJwzFmqsYpTFhUTFiFKxsXURjYspump" target="_blank">S0LI$ Token ↗</a></div>
      <div class="hitbox"><a href="https://instagram.com/s0lissystem" target="_blank">Instagram ↗</a></div>
      <div class="hitbox"><a href="https://twitter.com/s0lissystem" target="_blank">Twitter ↗</a></div>
      <div class="hitbox"><a href="#">Manifest (soon) ↗</a></div>
    </div>
  </div>

  <script>
    const scene = document.getElementById("scene");
    const orb = document.getElementById("orb");
    const notify = document.getElementById("notify");
    const links = document.querySelectorAll(".orb a");

    let trustGained = false;
    let trustTimeout;
    let inOuterAura = false;
    let inInnerAura = false;
    let hoveredLink = null;

    const ORB_RADIUS = () => orb.getBoundingClientRect().width / 2;

    function hapticPulse() {
      if (navigator.vibrate) navigator.vibrate(15);
    }

    function pingSolis() {
      orb.style.transition = 'transform 0.4s ease';
      orb.style.transform = 'translate(-50%, -50%) scale(1.08)';
      setTimeout(() => {
        orb.style.transform = 'translate(-50%, -50%) scale(1)';
      }, 300);
    }

    function setLight(e) {
      const x = e.clientX || (e.touches && e.touches[0].clientX);
      const y = e.clientY || (e.touches && e.touches[0].clientY);
      const rect = orb.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;
      const dx = x - cx;
      const dy = y - cy;
      const dist = Math.sqrt(dx * dx + dy * dy);
      const outerLimit = ORB_RADIUS() * 1.4;
      const innerLimit = ORB_RADIUS() * 0.4;

      orb.style.setProperty('--x', `${(x / window.innerWidth) * 100}%`);
      orb.style.setProperty('--y', `${(y / window.innerHeight) * 100}%`);

      if (dist <= outerLimit && !inOuterAura) {
        orb.classList.add("visible");
        inOuterAura = true;
        if (!trustGained && !trustTimeout) {
          trustTimeout = setTimeout(() => {
            trustGained = true;
            pingSolis();
            notify.classList.add("show");
            setTimeout(() => notify.classList.remove("show"), 2500);
          }, 4000);
        }
      } else if (dist > outerLimit && inOuterAura) {
        orb.classList.remove("visible", "reveal-links");
        inOuterAura = false;
        inInnerAura = false;
        hoveredLink = null;
        links.forEach(link => link.classList.remove("revealed"));
        clearTimeout(trustTimeout);
        trustTimeout = null;
      }

      if (trustGained) {
        if (dist <= innerLimit && !inInnerAura) {
          orb.classList.add("reveal-links");
          inInnerAura = true;
        } else if (dist > innerLimit && inInnerAura) {
          orb.classList.remove("reveal-links");
          inInnerAura = false;
          hoveredLink = null;
          links.forEach(link => link.classList.remove("revealed"));
        }

        // Check hover based on expanded hitbox
        if (inInnerAura) {
          links.forEach(link => {
            const box = link.parentElement.getBoundingClientRect(); // use .hitbox
            const isInside = x > box.left && x < box.right && y > box.top && y < box.bottom;

            if (isInside) {
              if (hoveredLink !== link) {
                hoveredLink = link;
                link.classList.add("revealed");
                hapticPulse();
              }
            } else {
              link.classList.remove("revealed");
              if (hoveredLink === link) hoveredLink = null;
            }
          });
        }
      }
    }

    scene.addEventListener("mousemove", setLight);
    scene.addEventListener("touchmove", setLight);
    scene.addEventListener("touchstart", setLight);
  </script>
</body>
</html>
